<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.1.6">Jekyll</generator><link href="http://blog.tongkun.tech/feed.xml" rel="self" type="application/atom+xml" /><link href="http://blog.tongkun.tech/" rel="alternate" type="text/html" /><updated>2019-01-13T09:18:13+08:00</updated><id>http://blog.tongkun.tech/</id><title>人在码途</title><subtitle>佟堃的个人博客</subtitle><author><name>Tong Kun</name></author><entry><title>Mac Docker入门安装使用</title><link href="http://blog.tongkun.tech/2019/01/12/Mac-Docker%E5%85%A5%E9%97%A8%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/" rel="alternate" type="text/html" title="Mac Docker入门安装使用" /><published>2019-01-12T00:00:00+08:00</published><updated>2019-01-12T00:00:00+08:00</updated><id>http://blog.tongkun.tech/2019/01/12/Mac Docker入门安装使用</id><content type="html" xml:base="http://blog.tongkun.tech/2019/01/12/Mac-Docker%E5%85%A5%E9%97%A8%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/">&lt;p&gt;最新mac系统千万不要用brew安装，推荐使用官方文档：https://docs.docker.com/docker-for-mac/#proxies&lt;/p&gt;

&lt;h5 id=&quot;section&quot;&gt;安装镜像：&lt;/h5&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker pull centos:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;latest代表拉取最新的镜像，当然可以先搜索下&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker search centos
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;section-1&quot;&gt;查看本地镜像库：&lt;/h5&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
centos              latest              1e1148e4cc2c        9 days ago          202MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;在列出信息中，可以看到几个字段信息:&lt;/p&gt;

  &lt;p&gt;来自于哪个仓库，比如 ubuntu
镜像的标记，比如 16.04
它的 ID 号(唯一)，比如e4415b714b62
创建时间
镜像大小&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;section-2&quot;&gt;启动镜像：&lt;/h5&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run -it centos bash 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@fc68ad1849ef /]# 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;-it 表示运行在交互模式，是-i -t的缩写，即-it是两个参数：-i和-t。前者表示打开并保持stdout，后者表示分配一个终端（pseudo-tty）一般这个模式就是可以启动bash，然后和容器有命令行的交互&lt;/p&gt;

&lt;p&gt;启动镜像后，分配了一个新终端，命令行变为&lt;code class=&quot;highlighter-rouge&quot;&gt;[root@fc68ad1849ef /]# &lt;/code&gt;说明启动成功，并且登陆到了根目录&lt;/p&gt;

&lt;p&gt;在这里可以随意使用Linux命令了，但是有些命令是没有的，需要手动安装，比如vim，可以使用yum安装，命令：&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;yum install vim
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;section-3&quot;&gt;退出容器&lt;/h5&gt;

&lt;p&gt;如果使用exit，命令退出，则容器的状态处于Exit，而不是后台运行。如果想让容器一直运行，而不是停止，可以使用快捷键 ctrl p+q 退出，此时容器的状态为Up&lt;/p&gt;

&lt;p&gt;使用exit，然后使用&lt;/p&gt;

&lt;p&gt;查看正在运行的容器：docker ps&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run -it centos bash 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@c06a8694d372 /]# 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@c06a8694d372 /]# &lt;span class=&quot;nb&quot;&gt;exit
exit
&lt;/span&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
bd7181bd39ff        centos              &lt;span class=&quot;s2&quot;&gt;&quot;bash&quot;&lt;/span&gt;              3 minutes ago       Up 3 minutes                            priceless_goldwasser
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;可以看到，当前有一个id为bd7181bd39ff的容器，image为centos，就是刚刚启动的，如果通过exit退出容器，这里就不会显示了。&lt;/p&gt;

&lt;h5 id=&quot;section-4&quot;&gt;启动、停止、重启容器&lt;/h5&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker stop bd7181bd39ff
bd7181bd39ff
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker start bd7181bd39ff
bd7181bd39ff
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
bd7181bd39ff        centos              &lt;span class=&quot;s2&quot;&gt;&quot;bash&quot;&lt;/span&gt;              6 minutes ago       Up 1 second                             priceless_goldwasser
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker restart bd7181bd39ff
bd7181bd39ff
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
bd7181bd39ff        centos              &lt;span class=&quot;s2&quot;&gt;&quot;bash&quot;&lt;/span&gt;              6 minutes ago       Up 4 seconds                            priceless_goldwasser
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;attach&quot;&gt;进入容器attach&lt;/h5&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker attach bd7181bd39ff
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@bd7181bd39ff /]# 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;section-5&quot;&gt;安装软件、保存环境&lt;/h5&gt;

&lt;p&gt;安装vim&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[root@bd7181bd39ff /]# yum install vim 
.....
[root@bd7181bd39ff /]# vi  
vi        view      vigr      vim       vimdiff   vimtutor  vipw 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;保存容器，先退出容器，然后commit&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker commit -m &lt;span class=&quot;s1&quot;&gt;&#39;安装vim&#39;&lt;/span&gt; -a &lt;span class=&quot;s1&quot;&gt;&#39;tongkun&#39;&lt;/span&gt; bd7181bd39ff tongkun/centos:vim
sha256:1dab79502fbda22037e865b81882e073575af4e8a0bd8a0de16989b0ed244e2d
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;-m指定说明信息；-a指定用户信息；bd7181bd39ff代表容器的id；tongkun/centos:vim指定目标镜像的用户名、仓库名和 tag 信息&lt;/p&gt;

&lt;p&gt;查看镜像库，就已经有刚提交的镜像了&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED              SIZE
tongkun/centos      vim                 1dab79502fbd        About a minute ago   327MB
centos              latest              1e1148e4cc2c        9 days ago           202MB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;退出现有镜像，启动刚刚commit的镜像，查看安装的vim是否存在&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker stop bd7181bd39ff
bd7181bd39ff
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run -it tongkun/centos bash 
Unable to find image &lt;span class=&quot;s1&quot;&gt;&#39;tongkun/centos:latest&#39;&lt;/span&gt; locally
docker: Error response from daemon: Get https://registry-1.docker.io/v2/: Service Unavailable.
See &lt;span class=&quot;s1&quot;&gt;&#39;docker run --help&#39;&lt;/span&gt;.
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run -it tongkun/centos:vim  bash 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@a7880e04c1d4 /]# vi 
vi        view      vigr      vim       vimdiff   vimtutor  vipw  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;可以看到，这是我们刚刚commit的镜像，有vim命令工具&lt;/p&gt;

&lt;h5 id=&quot;section-6&quot;&gt;删除容器或镜像&lt;/h5&gt;

&lt;p&gt;如果想删除容器或者镜像，可以使用rm命令，注意：删除镜像前必须先删除以此镜像为基础的容器（哪怕是已经停止的容器），否则无法删除该镜像，会报错&lt;strong&gt;Failed to remove image (e4415b714b62): Error response from daemon: conflict: unable to delete e4415b714b62 (cannot be forced) - image has dependent child images&lt;/strong&gt;类似这种。&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps
CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES
a7880e04c1d4        tongkun/centos:vim   &lt;span class=&quot;s2&quot;&gt;&quot;bash&quot;&lt;/span&gt;              5 minutes ago       Up 5 minutes                            blissful_volhard
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
tongkun/centos      vim                 1dab79502fbd        10 minutes ago      327MB
centos              latest              1e1148e4cc2c        9 days ago          202MB
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker rmi 1dab79502fbd
Error response from daemon: conflict: unable to delete 1dab79502fbd &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cannot be forced&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; - image is being used by running container a7880e04c1d4
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;删除镜像 &lt;code class=&quot;highlighter-rouge&quot;&gt;docker rmi 容器id&lt;/code&gt;, 因为此镜像有容器在使用，所以不能被删除，需要先删除容器，删除容器命令&lt;code class=&quot;highlighter-rouge&quot;&gt;docker rm 镜像id&lt;/code&gt;，删除之前需要先stop容器，否则也会报错，如下：**Error response from daemon: You cannot remove a running container a7880e04c1d42f6d1f672ac920dd33df552a409cc19029314672643ee18e5836. Stop the container before **&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker rm a7880e04c1d4
Error response from daemon: You cannot remove a running container a7880e04c1d42f6d1f672ac920dd33df552a409cc19029314672643ee18e5836. Stop the container before attempting removal or force remove
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker stop a7880e04c1d4
a7880e04c1d4
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker rm a7880e04c1d4
a7880e04c1d4
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker rmi 1dab79502fbd
Untagged: tongkun/centos:vim
Deleted: sha256:1dab79502fbda22037e865b81882e073575af4e8a0bd8a0de16989b0ed244e2d
Deleted: sha256:f6def596fa2f515b28700f4cd3241e0ea78743abe6dad6d2f65bbf945f6dbf15
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;docker-push&quot;&gt;Docker push&lt;/h4&gt;

&lt;p&gt;正所谓“一次提交，到处使用”，我们可以把配置好的Docker push到仓库中，比如 docker hub&lt;/p&gt;

&lt;p&gt;先把刚删除的镜像重新弄回来一遍。。。。。&lt;/p&gt;

&lt;p&gt;首先到https://hub.docker.com/注册个账号，然后登陆&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker login 
Login with your Docker ID to push and pull images from Docker Hub. If you don&lt;span class=&quot;s1&quot;&gt;&#39;t have a Docker ID, head over to https://hub.docker.com to create one.
Username: tongkun
Password: 
Login Succeeded
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;push镜像：&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker push tongkun/centos:vim
The push refers to repository &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;docker.io/tongkun/centos]
15f896816a9b: Pushed 
071d8bd76517: Mounted from library/centos 
vim: digest: sha256:41bdaf55a709080577ccb40f61c0f91275e4a1cb62827a3893b6a5269a619d67 size: 741
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;push成功之后，到docker hub的仓库中，我们就可以看到自己push上去的镜像了，跟github类似，如图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1272254-e4ef3ca53736d6f0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;屏幕快照 2018-12-16 上午12.35.14&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;pull&quot;&gt;pull镜像&lt;/h5&gt;

&lt;p&gt;当我们在其他地方也需要使用此镜像是，只需要配置好docker，并登陆docker就可以pull已有的镜像了，为了模拟我们先把本地镜像和容器删掉，从仓库中拉取&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker stop 133b1f45876f
133b1f45876f
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker rm 133b1f45876f
133b1f45876f
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
tongkun/centos      vim                 78c5c9cce361        8 minutes ago       327MB
centos              latest              1e1148e4cc2c        9 days ago          202MB
&lt;span class=&quot;c&quot;&gt;#删除镜像&lt;/span&gt;
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker rmi 78c5c9cce361
Untagged: tongkun/centos:vim
Untagged: tongkun/centos@sha256:41bdaf55a709080577ccb40f61c0f91275e4a1cb62827a3893b6a5269a619d67
Deleted: sha256:78c5c9cce361122999251ef6ed00d286e4a1af70124a53583e46dbaeb3517879
Deleted: sha256:4b40340dc18b3ef39430f7892e0021af55dcae7f5d76e3b73e0087392f6ca353
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
centos              latest              1e1148e4cc2c        9 days ago          202MB
&lt;span class=&quot;c&quot;&gt;#从仓库中拉取镜像&lt;/span&gt;
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker pull tongkun/centos:vim 
vim: Pulling from tongkun/centos
a02a4930cb5d: Already exists 
260974091ff8: Pull &lt;span class=&quot;nb&quot;&gt;complete 
&lt;/span&gt;Digest: sha256:d57b9eb7123569c3b49279e8211d145b1070656be8aede5f97a0d025fc6ec6ee
Status: Downloaded newer image &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;tongkun/centos:vim
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker images 
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
tongkun/centos      vim                 defbd9f314c9        11 minutes ago      327MB
centos              latest              1e1148e4cc2c        9 days ago          202MB
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
&lt;span class=&quot;c&quot;&gt;#启动镜像&lt;/span&gt;
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run -it tongkun/centos:vim bash 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@c42f9f275474 /]# tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;
tongkun@localhost java &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;master&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker ps 
CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES
c42f9f275474        tongkun/centos:vim   &lt;span class=&quot;s2&quot;&gt;&quot;bash&quot;&lt;/span&gt;              11 seconds ago      Up 10 seconds                           frosty_williams
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h5 id=&quot;docker&quot;&gt;最后来张docker命令图收尾&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1272254-8b641689bce503ad.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;20171005132826220&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Mac入门就到这里了，深层次的使用和控制，后面学习再补充~&lt;/p&gt;

&lt;p&gt;参考：http://lihuia.com/2018/03/09/docker/&lt;/p&gt;</content><author><name>Tong Kun</name></author><summary>最新mac系统千万不要用brew安装，推荐使用官方文档：https://docs.docker.com/docker-for-mac/#proxies</summary></entry></feed>
